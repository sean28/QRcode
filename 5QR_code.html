<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文字转二维码生成器</title>
    <script src="qrcode.min.js"></script>
    <link rel="stylesheet" href="all.min.css">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        :root{--primary:#4361ee;--secondary:#3a0ca3;--light:#f8f9fa;--dark:#212529;--success:#2ecc71;--warning:#f39c12;--danger:#e74c3c;--card-bg:#ffffff;--text-color:#333333;--border-color:#e0e0e0;--shadow:0 10px 20px rgba(0, 0, 0, 0.1);--transition:all 0.3s ease;}
        .dark-theme{--primary:#5e72e4;--secondary:#324cdd;--light:#121212;--dark:#f8f9fa;--card-bg:#1e1e1e;--text-color:#e0e0e0;--border-color:#333333;--shadow:0 10px 20px rgba(0, 0, 0, 0.3);}
        body{background:linear-gradient(135deg, #f5f7fa, #e4e7eb);color:var(--text-color);min-height:100vh;padding:20px;transition:var(--transition);}
        body.dark-theme{background:linear-gradient(135deg, #0f0c29, #302b63);}
        .container{max-width:1200px;margin:0 auto;}
        header{text-align:center;padding:30px 0;}
        .logo{font-size:2.5rem;margin-bottom:10px;color:var(--primary);}
        h1{font-size:2.8rem;margin-bottom:10px;background:linear-gradient(90deg, var(--primary), var(--secondary));-webkit-background-clip:text;background-clip:text;color:transparent;}
        .subtitle{font-size:1.2rem;color:#666;max-width:600px;margin:0 auto 20px;}
        .dark-theme .subtitle{color:#aaa;}
        .theme-toggle{position:absolute;top:20px;right:20px;background:var(--card-bg);border:none;width:50px;height:50px;border-radius:50%;cursor:pointer;box-shadow:var(--shadow);display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:var(--primary);transition:var(--transition);}
        .theme-toggle:hover{transform:scale(1.1);}
        .main-content{display:flex;flex-wrap:wrap;gap:30px;margin-top:-30px;}
        .input-section, .output-section{flex:1;min-width:300px;background:var(--card-bg);border-radius:15px;padding:30px;box-shadow:var(--shadow);transition:var(--transition);}
        .section-title{font-size:1.5rem;margin-bottom:20px;display:flex;align-items:center;gap:10px;color:var(--primary);}
        .section-title i{font-size:1.8rem;}
        .input-group{margin-bottom:25px;}
        label{display:block;margin-bottom:8px;font-weight:500;}
        textarea{width:100%;height:150px;padding:15px;border:1px solid var(--border-color);border-radius:10px;resize:vertical;font-size:1rem;background:var(--card-bg);color:var(--text-color);transition:var(--transition);}
        textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(67, 97, 238, 0.2);}
        .btn-group{display:flex;gap:15px;flex-wrap:wrap;}
        .btn{padding:12px 25px;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:var(--transition);display:inline-flex;align-items:center;justify-content:center;gap:8px;}
        .btn-primary{background:var(--primary);color:white;flex:1;}
        .btn-primary:hover{background:var(--secondary);transform:translateY(-3px);}
        .btn-secondary{background:var(--card-bg);color:var(--primary);border:1px solid var(--primary);flex:1;}
        .btn-secondary:hover{background:rgba(67, 97, 238, 0.1);}
        .qr-container{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;padding:20px;border:2px dashed var(--border-color);border-radius:10px;margin-bottom:25px;background:rgba(67, 97, 238, 0.03);transition:var(--transition);}
        .dark-theme .qr-container{background:rgba(255, 255, 255, 0.05);}
        #qrcode{max-width:100%;display:flex;justify-content:center;}
        #qrcode canvas{border-radius:10px;box-shadow:0 5px 15px rgba(0, 0, 0, 0.1);}
        .placeholder{text-align:center;color:#777;padding:20px;}
        .placeholder i{font-size:4rem;margin-bottom:15px;color:#ccc;}
        .placeholder p{font-size:1.1rem;}
        .instructions{margin-top:40px;background:var(--card-bg);border-radius:15px;padding:30px;box-shadow:var(--shadow);}
        .instructions h2{font-size:1.8rem;margin-bottom:20px;color:var(--primary);}
        .steps{display:flex;flex-wrap:wrap;gap:20px;}
        .step{flex:1;min-width:250px;background:rgba(67, 97, 238, 0.05);border-radius:10px;padding:20px;transition:var(--transition);}
        .dark-theme .step{background:rgba(67, 97, 238, 0.1);}
        .step-number{display:inline-block;width:35px;height:35px;background:var(--primary);color:white;border-radius:50%;text-align:center;line-height:35px;font-weight:bold;margin-bottom:15px;}
        .step h3{font-size:1.3rem;margin-bottom:10px;}
        .examples{margin-top:20px;font-style:italic;color:#666;}
        .dark-theme .examples{color:#aaa;}
        footer{text-align:center;padding:30px 0;margin-top:40px;color:#666;border-top:1px solid var(--border-color);}
        .dark-theme footer{color:#aaa;}
        @media (max-width:768px){.main-content{flex-direction:column;}
        h1{font-size:2.2rem;}
        .theme-toggle{top:10px;right:10px;width:40px;height:40px;font-size:1.2rem;}}
      </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-qrcode"></i><span style="color:#324cdd;font-size:inherit; font-weight:700; margin-left:10px;">二维码生成器</span>
            </div>
            <p class="subtitle">将任何文字、链接或信息转换为二维码，方便分享和存储</p>
        </header>
        
        <button class="theme-toggle" id="themeToggle">
            <i class="fas fa-moon"></i>
        </button>
        
        <div class="main-content">
            <div class="input-section">
                <h2 class="section-title"><i class="fas fa-keyboard"></i> 输入内容</h2>
                <div class="input-group">
                    <label for="inputText">输入文本或URL：</label>
                    <textarea id="inputText" placeholder="在此输入要转换为二维码的文字或链接...">https://www.baidu.com</textarea>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" id="generateBtn">
                        <i class="fas fa-bolt"></i> 生成二维码
                    </button>
                    <button class="btn btn-secondary" id="clearBtn">
                        <i class="fas fa-eraser"></i> 清空内容
                    </button>
                </div>
            </div>
            
            <div class="output-section">
                <h2 class="section-title"><i class="fas fa-qrcode"></i> 二维码结果</h2>
                <div class="qr-container" id="qrContainer">
                    <div class="placeholder" id="placeholder">
                        <i class="fas fa-qrcode"></i>
                        <p>生成的二维码将显示在这里</p>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" id="downloadBtn" disabled>
                        <i class="fas fa-download"></i> 下载二维码
                    </button>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h2><i class="fas fa-info-circle"></i> 使用说明</h2>
            <div class="steps">
                <div class="step">
                    <span class="step-number">1</span>
                    <h3>输入内容</h3>
                    <p>在左侧文本框中输入任何文字、URL链接或联系方式等内容。</p>
                </div>
                <div class="step">
                    <span class="step-number">2</span>
                    <h3>生成二维码</h3>
                    <p>点击"生成二维码"按钮，右侧将立即显示生成的二维码图像。</p>
                </div>
                <div class="step">
                    <span class="step-number">3</span>
                    <h3>下载使用</h3>
                    <p>点击"下载二维码"按钮将二维码保存为PNG图片，方便打印或分享。</p>
                </div>
            </div>
            
            <!--
            <div class="examples">
                <p><strong>示例：</strong> 网址 (https://example.com), 电子邮件 (mailto:contact@example.com), 电话号码 (tel:+1234567890), Wi-Fi信息 (WIFI:S:MyNetwork;T:WPA;P:password;;), 纯文本等</p>
            </div>
            -->
        </div>
        
        <footer>
            <p>© 2023 文字转二维码生成器 | 便捷实用的二维码工具</p>
        </footer>
    </div>
    
    <script>
        // 获取DOM元素
        const themeToggle = document.getElementById('themeToggle');
        const generateBtn = document.getElementById('generateBtn');
        const clearBtn = document.getElementById('clearBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const inputText = document.getElementById('inputText');
        const qrContainer = document.getElementById('qrContainer');
        const placeholder = document.getElementById('placeholder');
        
        // 主题切换
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            const icon = themeToggle.querySelector('i');
            if (document.body.classList.contains('dark-theme')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        });
        
        // 生成二维码
            generateBtn.addEventListener('click', () => {
                const text = inputText.value.trim();

                if (!text) {
                    alert('请输入要转换为二维码的内容！');
                    return;
                }

                // 清除之前的二维码
                qrContainer.innerHTML = '';

                // 创建一个canvas元素
                const canvas = document.createElement('canvas');
                qrContainer.appendChild(canvas);

                // 生成新二维码到canvas
                QRCode.toCanvas(canvas, text, {
                    width: 200,
                    margin: 2,
                    color: {
                        dark: '#000000',
                        light: '#ffffff'
                    }
                }, function (error) {
                    if (error) {
                        console.error(error);
                        alert('生成二维码时出错，请重试！');
                        qrContainer.innerHTML = ''; // 清空
                        qrContainer.appendChild(placeholder);
                    } else {
                        downloadBtn.disabled = false;
                    }
                });
            });
        
        // 清空内容
        clearBtn.addEventListener('click', () => {
            inputText.value = '';
            qrContainer.innerHTML = '';
            qrContainer.appendChild(placeholder);
            downloadBtn.disabled = true;
        });
        
        // 下载二维码
        downloadBtn.addEventListener('click', () => {
            const canvas = qrContainer.querySelector('canvas');
            if (!canvas) {
                alert('请先生成二维码！');
                return;
            }
            
            const link = document.createElement('a');
            link.download = '二维码.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        });
        
        // 初始生成二维码
        window.addEventListener('load', () => {
            generateBtn.click();
        });
    </script>
</body>
</html>